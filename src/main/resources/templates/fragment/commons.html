<!--header-->
<header class="navbar navbar-light sticky-top bg-light flex-md-nowrap p-0 shadow" th:fragment="top-header">
    <a class="sidebar-brand d-flex align-items-center justify-content-center" href="#" th:href="@{/dashboard}">
        <div class="sidebar-brand-icon rotate-n-15">
            <i class="bi bi-emoji-laughing"></i>
        </div>
        <div class="sidebar-brand-text mx-3">TSIM <sup>beta</sup></div>
    </a>
</header>

<!--菜单样式2-->
<div class="hover-scroll-overlay-y px-2 my-5 my-lg-5" id="aside_menu_wrapper" data-scroll="true"
     style="height: 500px" th:fragment="sidebarMenu2">
    <div class="menu menu-column menu-title-gray-800 menu-title-primary menu-state-icon-primary menu-state-bullet-primary menu-arrow-gray-500 fw-bold"
         id="aside_menu" data-menu="true">
        <div class="menu-item">
            <a href="#" th:class="${flag=='dashboard'?'menu-link active':'menu-link'}" th:href="@{/dashboard}">
                                        <span class="menu-bullet">
                                            <span class="bullet bullet-dot"></span>
                                        </span>
                <span class="menu-title">Dashboard</span>
            </a>
        </div>
        <div class="menu-item">
            <a th:class="${flag=='project'?'menu-link active':'menu-link'}" href="#"
               th:href="@{/project/list}">
                                        <span class="menu-bullet">
                                            <span class="bullet bullet-dot"></span>
                                        </span>
                <span class="menu-title">项目管理</span>
            </a>
        </div>
        <div class="menu-item">
            <a th:class="${flag=='task'?'menu-link active':'menu-link link-dark'}" href="#"
               th:href="@{/task/list}">
                                        <span class="menu-bullet">
                                            <span class="bullet bullet-dot"></span>
                                        </span>
                <span class="menu-title">任务汇总</span>
            </a>
        </div>
        <div class="menu-item">
            <a th:class="${flag=='story'?'menu-link active':'menu-link link-dark'}" href="#"
               th:href="@{/story/list}">
                                        <span class="menu-bullet">
                                            <span class="bullet bullet-dot"></span>
                                        </span>
                <span class="menu-title">测试需求管理</span>
            </a>
        </div>
        <div class="menu-item">
            <a th:class="${flag=='plan'?'menu-link active':'menu-link link-dark'}" href="#"
               th:href="@{/plan/list}">
                                        <span class="menu-bullet">
                                            <span class="bullet bullet-dot"></span>
                                        </span>
                <span class="menu-title">测试计划管理</span>
            </a>
        </div>
        <div class="menu-item">
            <a th:class="${flag=='case'?'menu-link active':'menu-link link-dark'}" href="#"
               th:href="@{/case/list}">
                                        <span class="menu-bullet">
                                            <span class="bullet bullet-dot"></span>
                                        </span>
                <span class="menu-title">测试用例</span>
            </a>
        </div>
        <div class="menu-item">
            <a th:class="${flag=='bug'?'menu-link active':'menu-link link-dark'}" href="#"
               th:href="@{/bug/list}">
                                        <span class="menu-bullet">
                                            <span class="bullet bullet-dot"></span>
                                        </span>
                <span class="menu-title">问题单(BUG)</span>
            </a>
        </div>
    </div>
</div>

<div id="aside_footer" class="aside-footer flex-column-auto pb-5" th:fragment="aside_footer">
    <div class="aside_user">
        <div class="aside_user d-flex align-items-sm-center justify-content-center py-5">
            <div class="me-5"></div>
            <div class="flex-row-fluid flex-wrap">
                <div class="d-flex align-items-center flex-stack">
                    <div class="me-2">
                        <a href="#" class="text-gray-800 text-hover-primary fs-6 fw-bold lh-0"
                           th:text="${session.account.username}">11‘s papa</a>
                    </div>
                    <a href="#" class="btn btn-icon btn-active-color-primary me-n4" data-bs-toggle="modal"
                       data-bs-target="#logoutModal">
                        <span class="svg-icon svg-icon-2 svg-icon-gray-400">
                            <svg class="bi-box-arrow-in-right" width="24" height="24" viewBox="0 0 24 24"
                                 fill="none"></svg>
                        </span>
                    </a>

                </div>
            </div>
        </div>
    </div>
</div>
<!--head信息-->
<head th:fragment="common_header(title,links)">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title th:replace="${title}"></title>
    <link th:href="@{/bootstrap/css/bootstrap.min.css}" rel="stylesheet">
        <link rel="stylesheet" th:href="@{/global/css/style.css}">
    <!--    <link rel="stylesheet" th:href="@{/global/css/plugins.bundle.css}">-->
    <th:block th:replace="${links}"/>
    <link rel="stylesheet" th:href="@{/bootstrap/css/bootstrap-icons.css}">
    <link rel="stylesheet" th:href="@{/plugins/hover.css}">
    <!-- Custom styles for this template -->
    <link rel="stylesheet" th:href="@{/global/css/common.css}">
    <meta name="author" content="11‘s papa">
</head>
<!-- Footer -->
<div id="footer" class="footer py-4 d-flex flex-lg-column" th:fragment="footer">
    <div class="container-fluid d-flex flex-column flex-md-row align-items-center justify-content-between">
        <div class="text-dark order-2 order-md-1">
            <span class="text-muted fw-bold me-1">Copyright &copy; <a href="#" class="text-gray-800 text-hover-primary">TSIM</a> 2021</span>
        </div>
    </div>

</div>
<!-- End of Footer -->
<!--分页-->
<div id="pagination01" class="mb-20" th:fragment="pagination01">
    <nav aria-label="Page navigation example">
        <ul class="pagination pagination-sm justify-content-center" th:if="${iPage.pages>0}">
            <li class="page-item">
                <a class="page-link" href="#" th:if="${iPage.current == 1}" aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span>
                </a>
                <a class="page-link" th:href="@{${redirecting} + ${iPage.getCurrent()-1}}"
                   th:if="${iPage.current > 1}" aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span>
                </a>
            </li>
            <li th:each="i:${#numbers.sequence(1,iPage.pages)}"
                th:class="${iPage.current == i} ? 'page-item active' : 'page-item'">
                <a class="page-link" th:href="@{${redirecting}+${i}}" th:text="${i}">1</a>
            </li>
            <li class="page-item">
                <a class="page-link" href="#" aria-label="Next" th:if="${iPage.current == iPage.pages}">
                    <span aria-hidden="true">&raquo;</span>
                </a>
                <a class="page-link" th:href="@{${redirecting}+${iPage.getCurrent()+1}}" aria-label="Next"
                   th:if="${iPage.current < iPage.pages}">
                    <span aria-hidden="true">&raquo;</span>
                </a>
            </li>
        </ul>
    </nav>
</div>
<!-- Logout Modal-->
<div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
     aria-hidden="true" th:fragment="logout">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
                <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close">
                </button>
            </div>
            <div class="modal-body">Select "Logout" below if you are ready to end your current session.</div>
            <div class="modal-footer">
                <button class="btn btn-secondary" type="button" data-bs-dismiss="modal">Cancel</button>
                <a class="btn btn-primary" th:href="@{/user/exit}">Logout</a>
            </div>
        </div>
    </div>
</div>

<!-- toast-->
<div class="toast position-fixed top-0 end-0 p-3 z-index-3" role="alert" aria-live="assertive" aria-atomic="true"
     th:fragment="toast-div">
    <div class="d-flex">
        <div class="toast-body">
            Hello, world! This is a toast message.
        </div>
        <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"
                aria-label="Close"></button>
    </div>
</div>
